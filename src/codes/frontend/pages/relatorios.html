<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relatórios - Smart Gestão</title>
    <!-- Previne a requisição automática do favicon.ico pelo navegador -->
    <link rel="icon" href="data:,">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Script de proteção de rota: verifica se o usuário está logado. -->
    <!-- Deve ser o primeiro script a ser carregado. -->
    <script src="/js/utils/authGuard.js"></script>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-money-bill-wave logo-icon"></i>
                    <h1>Controle de Despesas MEI</h1>
                </div>
                <div class="user-actions">
                    <button class="btn"><i class="fas fa-download"></i> Exportar</button>
                    <a href=".\perfil.html" class="btn btn-outline"><i class="fas fa-user"></i> Perfil</a>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="dashboard">
            <!-- Sidebar -->
            <div class="sidebar">
                <ul class="sidebar-menu">
                    <li><a href="startPage.html"><i class="fas fa-home"></i> Dashboard</a></li>
                    <li><a href="transacoes.html"><i class="fas fa-exchange-alt"></i> Transações</a></li> 
                    <li><a href="categorias.html"><i class="fas fa-chart-pie"></i> Categorias</a></li>
                    <li><a href="metas.html"><i class="fas fa-bullseye"></i> Metas</a></li>
                    <li><a href="relatorios.html" class="active"><i class="fas fa-chart-line"></i> Relatórios</a></li>
                </ul>
            </div>

            <!-- Main Content -->
            <div class="main-content">
                <!-- Filtros de Relatórios -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Relatórios Financeiros</h2>
                    </div>
                    <div class="report-filters">
                        <div class="filter-group">
                            <label>Período:</label>
                            <select class="form-control">
                                <option>Últimos 30 dias</option>
                                <option>Este mês</option>
                                <option>Mês passado</option>
                                <option>Trimestre atual</option>
                                <option>Semestre atual</option>
                                <option>Ano atual</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label>Tipo de Relatório:</label>
                            <select class="form-control">
                                <option>Resumo Financeiro</option>
                                <option>Despesas por Categoria</option>
                                <option>Fluxo de Caixa</option>
                                <option>Comparativo Mensal</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label>&nbsp;</label>
                            <button class="btn btn-generate"><i class="fas fa-chart-bar"></i> Gerar Relatório</button>
                        </div>
                    </div>
                </div>

                <!-- Gráficos e Estatísticas -->
                <div class="charts-grid">
                    <!-- Gráfico de Receitas vs Despesas -->
                    <div class="card chart-card">
                        <div class="card-header">
                            <h3 class="card-title">Receitas vs Despesas</h3>
                            <select class="form-control form-control-sm">
                                <option>Mensal</option>
                                <option>Trimestral</option>
                                <option>Anual</option>
                            </select>
                        </div>
                        <div class="chart-placeholder">
                            <div class="chart-bars">
                                <div class="chart-bar income-bar" style="height: 80%">
                                    <span>R$ 5.250</span>
                                </div>
                                <div class="chart-bar expense-bar" style="height: 60%">
                                    <span>R$ 3.180</span>
                                </div>
                            </div>
                            <div class="chart-labels">
                                <span>Receitas</span>
                                <span>Despesas</span>
                            </div>
                        </div>
                    </div>

                    <!-- Gráfico de Pizza - Categorias -->
                    <div class="card chart-card">
                        <div class="card-header">
                            <h3 class="card-title">Despesas por Categoria</h3>
                        </div>
                        <div class="chart-placeholder">
                            <div class="pie-chart">
                                <div class="pie-segment materials" style="--percentage: 40%;"></div>
                                <div class="pie-segment services" style="--percentage: 25%;"></div>
                                <div class="pie-segment transport" style="--percentage: 15%;"></div>
                                <div class="pie-segment taxes" style="--percentage: 10%;"></div>
                                <div class="pie-segment other" style="--percentage: 10%;"></div>
                            </div>
                            <div class="chart-legend">
                                <div class="legend-item">
                                    <span class="legend-color materials"></span>
                                    <span>Materiais (40%)</span>
                                </div>
                                <div class="legend-item">
                                    <span class="legend-color services"></span>
                                    <span>Serviços (25%)</span>
                                </div>
                                <div class="legend-item">
                                    <span class="legend-color transport"></span>
                                    <span>Transporte (15%)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tabela de Análise Detalhada -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Análise Detalhada - Setembro 2023</h2>
                    </div>
                    <div class="analysis-table">
                        <div class="analysis-row header">
                            <div>Categoria</div>
                            <div>Orçamento</div>
                            <div>Realizado</div>
                            <div>Variação</div>
                            <div>% do Total</div>
                        </div>
                        <div class="analysis-row">
                            <div>Materiais</div>
                            <div>R$ 800,00</div>
                            <div>R$ 950,00</div>
                            <div class="negative">-R$ 150,00</div>
                            <div>40%</div>
                        </div>
                        <div class="analysis-row">
                            <div>Serviços</div>
                            <div>R$ 500,00</div>
                            <div>R$ 650,00</div>
                            <div class="negative">-R$ 150,00</div>
                            <div>25%</div>
                        </div>
                        <div class="analysis-row">
                            <div>Transporte</div>
                            <div>R$ 300,00</div>
                            <div>R$ 280,00</div>
                            <div class="positive">+R$ 20,00</div>
                            <div>15%</div>
                        </div>
                    </div>
                </div>

                <!-- Insights Automáticos -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Insights Financeiros</h2>
                        <i class="fas fa-lightbulb insight-icon"></i>
                    </div>
                    <div class="insights">
                        <div class="insight positive">
                            <i class="fas fa-check-circle"></i>
                            <div>
                                <strong>Bom trabalho nas vendas!</strong>
                                <p>Suas receitas aumentaram 15% em relação ao mês passado.</p>
                            </div>
                        </div>
                        <div class="insight warning">
                            <i class="fas fa-exclamation-triangle"></i>
                            <div>
                                <strong>Atenção com materiais</strong>
                                <p>Você ultrapassou o orçamento de materiais em R$ 150,00.</p>
                            </div>
                        </div>
                        <div class="insight info">
                            <i class="fas fa-info-circle"></i>
                            <div>
                                <strong>Meta próxima</strong>
                                <p>Faltam R$ 1.050,00 para alcançar sua meta de equipamentos.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>PUC Minas - ICEI - Sistema de Controle de Despesas para MEIs - 2025</p>
            <p>Desenvolvido por: Júlia Fernanda, Izadora Helena, Hugo Ferreira, Heron Silva e Maria Clara</p>
        </div>
    </footer>
</body>
</html>