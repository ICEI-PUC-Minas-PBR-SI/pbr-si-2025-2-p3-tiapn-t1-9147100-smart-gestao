
--- ðŸš€ [GLOBAL SETUP] Iniciando ambiente de teste ---
Verificando permissÃµes de sistema...
PermissÃµes nÃ£o encontradas. Criando permissÃµes padrÃ£o...
PermissÃµes padrÃ£o criadas com sucesso!
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ (index) â”‚ Nome            â”‚ DescriÃ§Ã£o                                                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0       â”‚ 'ROOT'          â”‚ 'SuperusuÃ¡rio. Acesso irrestrito a todos os dados e configuraÃ§Ãµes do sistema.'                   â”‚
â”‚ 1       â”‚ 'ADMIN_COMPANY' â”‚ 'Administrador de uma empresa. Pode gerenciar usuÃ¡rios e todos os dados da sua prÃ³pria empresa.' â”‚
â”‚ 2       â”‚ 'USER_COMPANY'  â”‚ 'UsuÃ¡rio padrÃ£o. Pode criar e gerenciar seus prÃ³prios dados dentro da empresa.'                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â³ Iniciando servidor Smart GestÃ£o (startServer)...
ConexÃ£o com o MongoDB estabelecida com sucesso.
âœ… [1/1] ConexÃ£o com o banco de dados estabelecida!
âœ… Servidor rodando na porta 5000
--- âœ… [GLOBAL SETUP] Ambiente pronto e servidor iniciado ---
(node:12316) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
[LOG] AÃ§Ã£o: CREATE_META | UsuÃ¡rio: 691dba5b2fca84114bcaab99
[0mPOST /api/goals [32m201[0m 71.611 ms - 389[0m
[LOG] AÃ§Ã£o: CREATE_GOAL | UsuÃ¡rio: 691dba5b2fca84114bcaab99
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 691dba5b2fca84114bcaab99
[0mPOST /api/transactions [32m201[0m 63.760 ms - 448[0m
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 691dba5b2fca84114bcaab99
[0mGET /api/alerts [32m200[0m 36.095 ms - 72[0m
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 691dba5b2fca84114bcaab99
[0mPOST /api/transactions [32m201[0m 79.063 ms - 445[0m
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 691dba5b2fca84114bcaab99
[0mGET /api/alerts [32m200[0m 29.204 ms - 72[0m
FAIL Testes/2-features/alerts.test.js
  6. MÃ³dulo de Alertas de Metas
    Ã— RF-006: deve criar um alerta quando uma despesa ultrapassa a meta da categoria (337 ms)

  â— 6. MÃ³dulo de Alertas de Metas â€º RF-006: deve criar um alerta quando uma despesa ultrapassa a meta da categoria

    expect(received).toHaveLength(expected)

    Expected length: 1
    Received length: 0
    Received array:  []

    [0m [90m 64 |[39m     [90m// 5. Verificar se o alerta foi criado[39m
     [90m 65 |[39m     alertsResponse [33m=[39m [36mawait[39m axios[33m.[39m[36mget[39m([32m`${API_URL}/alerts`[39m[33m,[39m { headers })[33m;[39m
    [31m[1m>[22m[39m[90m 66 |[39m     expect(alertsResponse[33m.[39mdata[33m.[39mdata)[33m.[39mtoHaveLength([35m1[39m)[33m;[39m
     [90m    |[39m                                      [31m[1m^[22m[39m
     [90m 67 |[39m     [36mconst[39m alert [33m=[39m alertsResponse[33m.[39mdata[33m.[39mdata[[35m0[39m][33m;[39m
     [90m 68 |[39m     expect(alert[33m.[39mgoalId)[33m.[39mtoBe(goalId)[33m;[39m
     [90m 69 |[39m     expect(alert[33m.[39mmessage)[33m.[39mtoContain([32m'Sua meta de gastos para a categoria "AlimentaÃ§Ã£o" foi atingida!'[39m)[33m;[39m[0m

      at Object.<anonymous> (Testes/2-features/alerts.test.js:66:38)

Test Suites: 1 failed, 1 total
Tests:       1 failed, 1 total
Snapshots:   0 total
Time:        0.743 s
Ran all test suites matching Testes/2-features/alerts.test.js.

--- ðŸ§¹ [GLOBAL TEARDOWN] Finalizando ambiente de teste ---
   - [OK] Dados de teste temporÃ¡rios foram removidos.
âœ… Servidor e conexÃ£o com MongoDB encerrados (stopServer).
--- âœ… [GLOBAL TEARDOWN] Ambiente finalizado com sucesso ---
