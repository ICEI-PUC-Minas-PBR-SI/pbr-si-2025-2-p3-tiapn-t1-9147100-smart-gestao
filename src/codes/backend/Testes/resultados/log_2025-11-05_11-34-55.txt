  console.log
    
    --- Teste: Cadastrar novo usu√°rio ---

      at Object.log (Testes/api.test.js:50:17)

  console.log
    Enviando: {
      "name": "Usu√°rio A",
      "email": "empresaA_1762353297111@test.com",
      "password": "password123",
      "companyName": "Empresa A Teste 1762353297111",
      "cnpj": "01762353297111"
    }

      at Object.log (Testes/api.test.js:51:17)

(node:25564) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
  console.log
    
    --- Teste: Barrar e-mail duplicado ---

      at Object.log (Testes/api.test.js:72:17)

  console.log
    Enviando: {
      "name": "Usu√°rio A",
      "email": "empresaA_1762353297111@test.com",
      "password": "password123",
      "companyName": "Nome Duplicado",
      "cnpj": "11223344556677"
    }

      at Object.log (Testes/api.test.js:73:17)

  console.log
    Recebido (Status): 500

      at Object.log (Testes/api.test.js:79:21)

  console.log
    Recebido (Corpo): {
      "message": "Erro interno ao cadastrar usu√°rio."
    }

      at Object.log (Testes/api.test.js:80:21)

  console.log
    
    --- Teste: Login com senha incorreta ---

      at Object.log (Testes/api.test.js:94:17)

  console.log
    Enviando: {
      "email": "empresaA_1762353297111@test.com",
      "password": "senha-errada"
    }

      at Object.log (Testes/api.test.js:95:17)

  console.log
    Recebido (Status): 401

      at Object.log (Testes/api.test.js:100:21)

  console.log
    Recebido (Corpo): {
      "message": "Credenciais inv√°lidas."
    }

      at Object.log (Testes/api.test.js:101:21)

  console.log
    
    --- Teste: Login com sucesso ---

      at Object.log (Testes/api.test.js:115:17)

  console.log
    Enviando: {
      "email": "empresaA_1762353297111@test.com",
      "password": "password123"
    }

      at Object.log (Testes/api.test.js:116:17)

  console.log
    Recebido (Status): 200

      at Object.log (Testes/api.test.js:120:17)

  console.log
    Recebido (Corpo): {
      "user": {
        "name": "Usu√°rio A",
        "email": "empresaa_1762353297111@test.com"
      },
      "message": "Tokens recebidos"
    }

      at Object.log (Testes/api.test.js:121:17)

  console.log
    
    --- Teste: Acesso a rota protegida sem token ---

      at Object.log (Testes/api.test.js:134:17)

  console.log
    Enviando: GET para http://localhost:5000/api/transactions

      at Object.log (Testes/api.test.js:135:17)

  console.log
    Recebido (Status): 401

      at Object.log (Testes/api.test.js:141:21)

  console.log
    Recebido (Corpo): {
      "message": "Token ausente ou formato inv√°lido"
    }

      at Object.log (Testes/api.test.js:142:21)

FAIL Testes/api.test.js
  1. M√≥dulo de Autentica√ß√£o
    √ó RF-001: deve cadastrar um novo usu√°rio e empresa (Empresa A) (185 ms)
    √ó deve barrar o cadastro de um usu√°rio com e-mail j√° existente (308 ms)
    ‚àö deve falhar o login com senha incorreta (174 ms)
    ‚àö deve realizar o login com sucesso para a Empresa A (102 ms)
    ‚àö deve proteger rotas, barrando acesso sem token (10 ms)

  ‚óè 1. M√≥dulo de Autentica√ß√£o ‚Ä∫ RF-001: deve cadastrar um novo usu√°rio e empresa (Empresa A)

    AxiosError: Request failed with status code 500

    [0m [90m 51 |[39m         console[33m.[39mlog([32m'Enviando:'[39m[33m,[39m [33mJSON[39m[33m.[39mstringify(requestBody[33m,[39m [36mnull[39m[33m,[39m [35m2[39m))[33m;[39m
     [90m 52 |[39m
    [31m[1m>[22m[39m[90m 53 |[39m         [36mconst[39m response [33m=[39m [36mawait[39m axios[33m.[39mpost([32m`${API_URL}/auth/register`[39m[33m,[39m requestBody)[33m;[39m
     [90m    |[39m                          [31m[1m^[22m[39m
     [90m 54 |[39m
     [90m 55 |[39m         console[33m.[39mlog([32m'Recebido (Status):'[39m[33m,[39m response[33m.[39mstatus)[33m;[39m
     [90m 56 |[39m         console[33m.[39mlog([32m'Recebido (Corpo):'[39m[33m,[39m [33mJSON[39m[33m.[39mstringify(response[33m.[39mdata[33m,[39m [36mnull[39m[33m,[39m [35m2[39m))[33m;[39m[0m

      at settle (node_modules/axios/lib/core/settle.js:19:12)
      at IncomingMessage.handleStreamEnd (node_modules/axios/lib/adapters/http.js:793:11)
      at Axios.request (node_modules/axios/lib/core/Axios.js:45:41)
      at Object.<anonymous> (Testes/api.test.js:53:26)

  ‚óè 1. M√≥dulo de Autentica√ß√£o ‚Ä∫ deve barrar o cadastro de um usu√°rio com e-mail j√° existente

    expect(received).toBe(expected) // Object.is equality

    Expected: 409
    Received: 500

    [0m [90m 81 |[39m
     [90m 82 |[39m             [90m// Espera-se um erro 409 (Conflict)[39m
    [31m[1m>[22m[39m[90m 83 |[39m             expect(error[33m.[39mresponse[33m.[39mstatus)[33m.[39mtoBe([35m409[39m)[33m;[39m
     [90m    |[39m                                           [31m[1m^[22m[39m
     [90m 84 |[39m             expect(error[33m.[39mresponse[33m.[39mdata[33m.[39mmessage)[33m.[39mtoContain([32m'E-mail j√° cadastrado'[39m)[33m;[39m
     [90m 85 |[39m         }
     [90m 86 |[39m     })[33m;[39m[0m

      at Object.toBe (Testes/api.test.js:83:43)

----------|---------|----------|---------|---------|-------------------
File      | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------|---------|----------|---------|---------|-------------------
All files |       0 |        0 |       0 |       0 |                   
----------|---------|----------|---------|---------|-------------------
Test Suites: 1 failed, 1 total
Tests:       2 failed, 3 passed, 5 total
Snapshots:   0 total
Time:        1.624 s, estimated 2 s
Ran all test suites.
