
--- üöÄ [GLOBAL SETUP] Iniciando ambiente de teste ---
Verificando permiss√µes de sistema...
Permiss√µes n√£o encontradas. Criando permiss√µes padr√£o...
Permiss√µes padr√£o criadas com sucesso!
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ (index) ‚îÇ Nome            ‚îÇ Descri√ß√£o                                                                                        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 0       ‚îÇ 'ROOT'          ‚îÇ 'Superusu√°rio. Acesso irrestrito a todos os dados e configura√ß√µes do sistema.'                   ‚îÇ
‚îÇ 1       ‚îÇ 'ADMIN_COMPANY' ‚îÇ 'Administrador de uma empresa. Pode gerenciar usu√°rios e todos os dados da sua pr√≥pria empresa.' ‚îÇ
‚îÇ 2       ‚îÇ 'USER_COMPANY'  ‚îÇ 'Usu√°rio padr√£o. Pode criar e gerenciar seus pr√≥prios dados dentro da empresa.'                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚è≥ Iniciando servidor Smart Gest√£o (startServer)...
Conex√£o com o MongoDB estabelecida com sucesso.
‚úÖ [1/1] Conex√£o com o banco de dados estabelecida!
‚úÖ Servidor rodando na porta 5000
--- ‚úÖ [GLOBAL SETUP] Ambiente pronto e servidor iniciado ---
(node:31492) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
FAIL Testes/4-reports/reports.test.js
  8. M√≥dulo de Relat√≥rios
    √ó deve chamar o servi√ßo de PDF com os dados corretos para o RELAT√ìRIO DE TRANSA√á√ïES (2 ms)
    √ó deve chamar o servi√ßo de PDF com os dados corretos para o RELAT√ìRIO DE CLIENTES (1 ms)
    √ó deve chamar o servi√ßo de PDF com os dados corretos para a FATURA

  ‚óè 8. M√≥dulo de Relat√≥rios ‚Ä∫ deve chamar o servi√ßo de PDF com os dados corretos para o RELAT√ìRIO DE TRANSA√á√ïES

    ReferenceError: pdfService is not defined

    [0m [90m 46 |[39m     [90m// Registra o mock importado em n√≠vel global para que o servidor (handlers)[39m
     [90m 47 |[39m     [90m// possam delegar chamadas ao mock durante os testes (veja pdfService).[39m
    [31m[1m>[22m[39m[90m 48 |[39m     globalThis[33m.[39m__pdfServiceMock__ [33m=[39m pdfService[33m;[39m
     [90m    |[39m                                     [31m[1m^[22m[39m
     [90m 49 |[39m   })[33m;[39m
     [90m 50 |[39m
     [90m 51 |[39m   [90m// O bloco `afterEach` √© executado ap√≥s cada teste (`test`).[39m[0m

      at Object.<anonymous> (Testes/4-reports/reports.test.js:48:37)

  ‚óè 8. M√≥dulo de Relat√≥rios ‚Ä∫ deve chamar o servi√ßo de PDF com os dados corretos para o RELAT√ìRIO DE CLIENTES

    ReferenceError: pdfService is not defined

    [0m [90m 46 |[39m     [90m// Registra o mock importado em n√≠vel global para que o servidor (handlers)[39m
     [90m 47 |[39m     [90m// possam delegar chamadas ao mock durante os testes (veja pdfService).[39m
    [31m[1m>[22m[39m[90m 48 |[39m     globalThis[33m.[39m__pdfServiceMock__ [33m=[39m pdfService[33m;[39m
     [90m    |[39m                                     [31m[1m^[22m[39m
     [90m 49 |[39m   })[33m;[39m
     [90m 50 |[39m
     [90m 51 |[39m   [90m// O bloco `afterEach` √© executado ap√≥s cada teste (`test`).[39m[0m

      at Object.<anonymous> (Testes/4-reports/reports.test.js:48:37)

  ‚óè 8. M√≥dulo de Relat√≥rios ‚Ä∫ deve chamar o servi√ßo de PDF com os dados corretos para a FATURA

    ReferenceError: pdfService is not defined

    [0m [90m 46 |[39m     [90m// Registra o mock importado em n√≠vel global para que o servidor (handlers)[39m
     [90m 47 |[39m     [90m// possam delegar chamadas ao mock durante os testes (veja pdfService).[39m
    [31m[1m>[22m[39m[90m 48 |[39m     globalThis[33m.[39m__pdfServiceMock__ [33m=[39m pdfService[33m;[39m
     [90m    |[39m                                     [31m[1m^[22m[39m
     [90m 49 |[39m   })[33m;[39m
     [90m 50 |[39m
     [90m 51 |[39m   [90m// O bloco `afterEach` √© executado ap√≥s cada teste (`test`).[39m[0m

      at Object.<anonymous> (Testes/4-reports/reports.test.js:48:37)

Test Suites: 1 failed, 1 total
Tests:       3 failed, 3 total
Snapshots:   0 total
Time:        1.175 s
Ran all test suites matching Testes/4-reports.

--- üßπ [GLOBAL TEARDOWN] Finalizando ambiente de teste ---
   - [OK] Dados de teste tempor√°rios foram removidos.
‚úÖ Servidor e conex√£o com MongoDB encerrados (stopServer).
--- ‚úÖ [GLOBAL TEARDOWN] Ambiente finalizado com sucesso ---
