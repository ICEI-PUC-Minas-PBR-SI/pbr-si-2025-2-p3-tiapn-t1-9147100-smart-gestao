
--- ğŸš€ [GLOBAL SETUP] Iniciando ambiente de teste ---
Verificando permissÃµes de sistema...
PermissÃµes nÃ£o encontradas. Criando permissÃµes padrÃ£o...
PermissÃµes padrÃ£o criadas com sucesso!
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ (index) â”‚ Nome            â”‚ DescriÃ§Ã£o                                                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0       â”‚ 'ROOT'          â”‚ 'SuperusuÃ¡rio. Acesso irrestrito a todos os dados e configuraÃ§Ãµes do sistema.'                   â”‚
â”‚ 1       â”‚ 'ADMIN_COMPANY' â”‚ 'Administrador de uma empresa. Pode gerenciar usuÃ¡rios e todos os dados da sua prÃ³pria empresa.' â”‚
â”‚ 2       â”‚ 'USER_COMPANY'  â”‚ 'UsuÃ¡rio padrÃ£o. Pode criar e gerenciar seus prÃ³prios dados dentro da empresa.'                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â³ Iniciando servidor Smart GestÃ£o (startServer)...
ConexÃ£o com o MongoDB estabelecida com sucesso.
âœ… [1/1] ConexÃ£o com o banco de dados estabelecida!
âœ… Servidor rodando na porta 5000
--- âœ… [GLOBAL SETUP] Ambiente pronto e servidor iniciado ---
(node:9788) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
POST /api/clients 201 37.210 ms - 329
[LOG] AÃ§Ã£o: CREATE_CLIENT | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
GET /api/clients 200 27.087 ms - 575
PUT /api/clients/69172cbd0ad9206dc6b1c5c3 200 47.889 ms - 331
[LOG] AÃ§Ã£o: UPDATE_CLIENT | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
DELETE /api/clients/69172cbd0ad9206dc6b1c5c3 200 42.286 ms - 70
PASS Testes/2-features/clients.test.js
  7. MÃ³dulo de Clientes/Fornecedores
    âˆš deve CRIAR um novo cliente com sucesso (77 ms)
    âˆš deve LISTAR os clientes da empresa (31 ms)
    âˆš deve ATUALIZAR um cliente existente (55 ms)
    âˆš deve EXCLUIR um cliente existente (46 ms)

[LOG] AÃ§Ã£o: DELETE_CLIENT | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
[LOG] AÃ§Ã£o: CREATE_META | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
POST /api/goals 201 49.158 ms - 404
[LOG] AÃ§Ã£o: CREATE_GOAL | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
GET /api/goals 200 26.649 ms - 406
[LOG] AÃ§Ã£o: UPDATE_META | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
PUT /api/goals/69172cbd0ad9206dc6b1c5d7 200 59.571 ms - 414
[LOG] AÃ§Ã£o: UPDATE_GOAL | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
[LOG] AÃ§Ã£o: DELETE_META | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
DELETE /api/goals/69172cbd0ad9206dc6b1c5d7 200 58.408 ms - 67
[LOG] AÃ§Ã£o: DELETE_GOAL | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
GET /api/goals/null 404 14.322 ms - 53
PASS Testes/2-features/goals.test.js
  5. MÃ³dulo de Metas (CRUD)
    âˆš deve CRIAR uma nova meta com sucesso (64 ms)
    âˆš deve LISTAR as metas do usuÃ¡rio logado (29 ms)
    âˆš deve ATUALIZAR uma meta existente (64 ms)
    âˆš deve EXCLUIR uma meta existente (93 ms)

[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
POST /api/transactions 201 45.303 ms - 467
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
POST /api/transactions 400 13.960 ms - 277
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
GET /api/transactions 200 25.440 ms - 854
GET /api/transactions/69172cbd0ad9206dc6b1c5ef 200 37.006 ms - 451
[LOG] AÃ§Ã£o: UPDATE_TRANSACTION | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
PUT /api/transactions/69172cbd0ad9206dc6b1c5ef 200 57.345 ms - 452
[LOG] AÃ§Ã£o: UPDATE_TRANSACTION | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
DELETE /api/transactions/69172cbd0ad9206dc6b1c5ef 200 57.274 ms - 73
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
GET /api/transactions/69172cbd0ad9206dc6b1c5ef 404 37.536 ms - 71
PASS Testes/2-features/transactions.test.js
  4. MÃ³dulo de TransaÃ§Ãµes (CRUD)
    âˆš deve CRIAR uma nova transaÃ§Ã£o com sucesso (56 ms)
    âˆš deve falhar ao tentar criar uma transaÃ§Ã£o com dados invÃ¡lidos (31 ms)
    âˆš deve LISTAR as transaÃ§Ãµes do usuÃ¡rio logado (30 ms)
    âˆš deve OBTER uma transaÃ§Ã£o especÃ­fica pelo ID (40 ms)
    âˆš deve ATUALIZAR uma transaÃ§Ã£o existente (62 ms)
    âˆš deve EXCLUIR uma transaÃ§Ã£o existente (103 ms)

[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
POST /api/transactions 201 44.584 ms - 446
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
POST /api/transactions/69172cbe0ad9206dc6b1c610/upload 200 63.621 ms - 514
[LOG] AÃ§Ã£o: UPLOAD_ATTACHMENT | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
DELETE /api/transactions/69172cbe0ad9206dc6b1c610/upload 200 54.551 ms - 442
[LOG] AÃ§Ã£o: DELETE_ATTACHMENT | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
DELETE /api/transactions/69172cbe0ad9206dc6b1c610 200 59.257 ms - 73
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
POST /api/transactions 201 45.511 ms - 444
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
POST /api/transactions/69172cbe0ad9206dc6b1c62a/upload 200 56.006 ms - 512
[LOG] AÃ§Ã£o: UPLOAD_ATTACHMENT | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
DELETE /api/transactions/69172cbe0ad9206dc6b1c62a/upload 200 53.918 ms - 440
[LOG] AÃ§Ã£o: DELETE_ATTACHMENT | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
DELETE /api/transactions/69172cbe0ad9206dc6b1c62a 200 56.037 ms - 73
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
POST /api/transactions 201 43.729 ms - 444
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
POST /api/transactions/69172cbe0ad9206dc6b1c644/upload 200 55.845 ms - 512
[LOG] AÃ§Ã£o: UPLOAD_ATTACHMENT | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
DELETE /api/transactions/69172cbe0ad9206dc6b1c644/upload 200 53.341 ms - 440
[LOG] AÃ§Ã£o: DELETE_ATTACHMENT | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
DELETE /api/transactions/69172cbe0ad9206dc6b1c644 200 59.274 ms - 73
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
POST /api/transactions 201 45.267 ms - 445
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
POST /api/transactions/69172cbf0ad9206dc6b1c65e/upload 200 53.905 ms - 514
[LOG] AÃ§Ã£o: UPLOAD_ATTACHMENT | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
DELETE /api/transactions/69172cbf0ad9206dc6b1c65e/upload 200 54.124 ms - 441
[LOG] AÃ§Ã£o: DELETE_ATTACHMENT | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
DELETE /api/transactions/69172cbf0ad9206dc6b1c65e 200 57.366 ms - 73
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 69172cbc0ad9206dc6b1c5b3
POST /api/transactions/60d5f1f77c3d4a001f5e8e1z/upload 404 13.229 ms - 53
PASS Testes/2-features/uploads.test.js
  Feature: Uploads
    Upload de PDF
      âˆš Deve permitir o upload de um anexo (PDF) para uma transaÃ§Ã£o (71 ms)
      âˆš Deve permitir a exclusÃ£o de um anexo (PDF) de uma transaÃ§Ã£o (59 ms)
    Upload de Imagem (PNG)
      âˆš Deve permitir o upload de um anexo de imagem (.png) para uma transaÃ§Ã£o (61 ms)
      âˆš Deve permitir a exclusÃ£o de um anexo de imagem (.png) (58 ms)
    Upload de Imagem (JPG)
      âˆš Deve permitir o upload de um anexo de imagem (.jpg) para uma transaÃ§Ã£o (60 ms)
      âˆš Deve permitir a exclusÃ£o de um anexo de imagem (.jpg) (59 ms)
    Upload de Imagem (JPEG)
      âˆš Deve permitir o upload de um anexo de imagem (.jpeg) para uma transaÃ§Ã£o (60 ms)
      âˆš Deve permitir a exclusÃ£o de um anexo de imagem (.jpeg) (58 ms)
    CenÃ¡rios de Erro e Estruturais
      âˆš Deve retornar 404 ao tentar fazer upload para uma transaÃ§Ã£o inexistente (31 ms)

Test Suites: 4 passed, 4 total
Tests:       23 passed, 23 total
Snapshots:   0 total
Time:        2.56 s
Ran all test suites matching Testes/2-features/.

--- ğŸ§¹ [GLOBAL TEARDOWN] Finalizando ambiente de teste ---
   - [OK] Dados de teste temporÃ¡rios foram removidos.
âœ… Servidor e conexÃ£o com MongoDB encerrados (stopServer).
--- âœ… [GLOBAL TEARDOWN] Ambiente finalizado com sucesso ---

--- FIM DOS TESTES AUTOMATIZADOS (Status: Sucesso) ---
