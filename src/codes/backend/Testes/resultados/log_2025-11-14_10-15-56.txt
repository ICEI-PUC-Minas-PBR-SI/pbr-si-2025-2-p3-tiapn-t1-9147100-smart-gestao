
--- ğŸš€ [GLOBAL SETUP] Iniciando ambiente de teste ---
Verificando permissÃµes de sistema...
PermissÃµes nÃ£o encontradas. Criando permissÃµes padrÃ£o...
PermissÃµes padrÃ£o criadas com sucesso!
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ (index) â”‚ Nome            â”‚ DescriÃ§Ã£o                                                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0       â”‚ 'ROOT'          â”‚ 'SuperusuÃ¡rio. Acesso irrestrito a todos os dados e configuraÃ§Ãµes do sistema.'                   â”‚
â”‚ 1       â”‚ 'ADMIN_COMPANY' â”‚ 'Administrador de uma empresa. Pode gerenciar usuÃ¡rios e todos os dados da sua prÃ³pria empresa.' â”‚
â”‚ 2       â”‚ 'USER_COMPANY'  â”‚ 'UsuÃ¡rio padrÃ£o. Pode criar e gerenciar seus prÃ³prios dados dentro da empresa.'                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â³ Iniciando servidor Smart GestÃ£o (startServer)...
ConexÃ£o com o MongoDB estabelecida com sucesso.
âœ… [1/1] ConexÃ£o com o banco de dados estabelecida!
âœ… Servidor rodando na porta 5000
--- âœ… [GLOBAL SETUP] Ambiente pronto e servidor iniciado ---
(node:23052) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
POST /api/clients 201 37.394 ms - 329
[LOG] AÃ§Ã£o: CREATE_CLIENT | UsuÃ¡rio: 69172b8f388b0671933101f9
GET /api/clients 200 30.235 ms - 574
PUT /api/clients/69172b90388b067193310207 200 72.313 ms - 331
[LOG] AÃ§Ã£o: UPDATE_CLIENT | UsuÃ¡rio: 69172b8f388b0671933101f9
DELETE /api/clients/69172b90388b067193310207 200 53.794 ms - 70
PASS Testes/2-features/clients.test.js
  7. MÃ³dulo de Clientes/Fornecedores
    âˆš deve CRIAR um novo cliente com sucesso (85 ms)
    âˆš deve LISTAR os clientes da empresa (34 ms)
    âˆš deve ATUALIZAR um cliente existente (78 ms)
    âˆš deve EXCLUIR um cliente existente (58 ms)

[LOG] AÃ§Ã£o: DELETE_CLIENT | UsuÃ¡rio: 69172b8f388b0671933101f9
[LOG] AÃ§Ã£o: CREATE_META | UsuÃ¡rio: 69172b8f388b0671933101f9
POST /api/goals 201 50.246 ms - 404
[LOG] AÃ§Ã£o: CREATE_GOAL | UsuÃ¡rio: 69172b8f388b0671933101f9
GET /api/goals 200 26.709 ms - 406
[LOG] AÃ§Ã£o: UPDATE_META | UsuÃ¡rio: 69172b8f388b0671933101f9
PUT /api/goals/69172b91388b06719331021d 200 59.304 ms - 414
[LOG] AÃ§Ã£o: UPDATE_GOAL | UsuÃ¡rio: 69172b8f388b0671933101f9
[LOG] AÃ§Ã£o: DELETE_META | UsuÃ¡rio: 69172b8f388b0671933101f9
DELETE /api/goals/69172b91388b06719331021d 200 57.275 ms - 67
[LOG] AÃ§Ã£o: DELETE_GOAL | UsuÃ¡rio: 69172b8f388b0671933101f9
GET /api/goals/null 404 12.691 ms - 53
PASS Testes/2-features/goals.test.js
  5. MÃ³dulo de Metas (CRUD)
    âˆš deve CRIAR uma nova meta com sucesso (74 ms)
    âˆš deve LISTAR as metas do usuÃ¡rio logado (31 ms)
    âˆš deve ATUALIZAR uma meta existente (63 ms)
    âˆš deve EXCLUIR uma meta existente (85 ms)

[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 69172b8f388b0671933101f9
POST /api/transactions 201 62.119 ms - 468
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 69172b8f388b0671933101f9
POST /api/transactions 400 14.430 ms - 277
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 69172b8f388b0671933101f9
GET /api/transactions 200 26.508 ms - 855
GET /api/transactions/69172b91388b067193310235 200 38.597 ms - 452
[LOG] AÃ§Ã£o: UPDATE_TRANSACTION | UsuÃ¡rio: 69172b8f388b0671933101f9
PUT /api/transactions/69172b91388b067193310235 200 59.242 ms - 452
[LOG] AÃ§Ã£o: UPDATE_TRANSACTION | UsuÃ¡rio: 69172b8f388b0671933101f9
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 69172b8f388b0671933101f9
DELETE /api/transactions/69172b91388b067193310235 200 61.046 ms - 73
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 69172b8f388b0671933101f9
GET /api/transactions/69172b91388b067193310235 404 38.823 ms - 71
PASS Testes/2-features/transactions.test.js
  4. MÃ³dulo de TransaÃ§Ãµes (CRUD)
    âˆš deve CRIAR uma nova transaÃ§Ã£o com sucesso (78 ms)
    âˆš deve falhar ao tentar criar uma transaÃ§Ã£o com dados invÃ¡lidos (25 ms)
    âˆš deve LISTAR as transaÃ§Ãµes do usuÃ¡rio logado (31 ms)
    âˆš deve OBTER uma transaÃ§Ã£o especÃ­fica pelo ID (42 ms)
    âˆš deve ATUALIZAR uma transaÃ§Ã£o existente (64 ms)
    âˆš deve EXCLUIR uma transaÃ§Ã£o existente (109 ms)

[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 69172b8f388b0671933101f9
POST /api/transactions 201 46.249 ms - 446
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 69172b8f388b0671933101f9
POST /api/transactions/69172b91388b067193310256/upload 200 64.573 ms - 514
[LOG] AÃ§Ã£o: UPLOAD_ATTACHMENT | UsuÃ¡rio: 69172b8f388b0671933101f9
DELETE /api/transactions/69172b91388b067193310256/upload 200 54.606 ms - 442
[LOG] AÃ§Ã£o: DELETE_ATTACHMENT | UsuÃ¡rio: 69172b8f388b0671933101f9
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 69172b8f388b0671933101f9
DELETE /api/transactions/69172b91388b067193310256 200 56.316 ms - 73
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 69172b8f388b0671933101f9
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 69172b8f388b0671933101f9
POST /api/transactions 201 44.892 ms - 444
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 69172b8f388b0671933101f9
POST /api/transactions/69172b92388b067193310270/upload 200 60.865 ms - 512
[LOG] AÃ§Ã£o: UPLOAD_ATTACHMENT | UsuÃ¡rio: 69172b8f388b0671933101f9
DELETE /api/transactions/69172b92388b067193310270/upload 200 55.209 ms - 440
[LOG] AÃ§Ã£o: DELETE_ATTACHMENT | UsuÃ¡rio: 69172b8f388b0671933101f9
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 69172b8f388b0671933101f9
DELETE /api/transactions/69172b92388b067193310270 200 56.927 ms - 73
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 69172b8f388b0671933101f9
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 69172b8f388b0671933101f9
POST /api/transactions 201 44.948 ms - 444
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 69172b8f388b0671933101f9
POST /api/transactions/69172b92388b06719331028a/upload 200 54.899 ms - 512
[LOG] AÃ§Ã£o: UPLOAD_ATTACHMENT | UsuÃ¡rio: 69172b8f388b0671933101f9
DELETE /api/transactions/69172b92388b06719331028a/upload 200 53.831 ms - 440
[LOG] AÃ§Ã£o: DELETE_ATTACHMENT | UsuÃ¡rio: 69172b8f388b0671933101f9
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 69172b8f388b0671933101f9
DELETE /api/transactions/69172b92388b06719331028a 200 55.137 ms - 73
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 69172b8f388b0671933101f9
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 69172b8f388b0671933101f9
POST /api/transactions 201 45.885 ms - 445
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 69172b8f388b0671933101f9
POST /api/transactions/69172b92388b0671933102a4/upload 200 56.253 ms - 514
[LOG] AÃ§Ã£o: UPLOAD_ATTACHMENT | UsuÃ¡rio: 69172b8f388b0671933101f9
DELETE /api/transactions/69172b92388b0671933102a4/upload 200 52.766 ms - 441
[LOG] AÃ§Ã£o: DELETE_ATTACHMENT | UsuÃ¡rio: 69172b8f388b0671933101f9
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 69172b8f388b0671933101f9
DELETE /api/transactions/69172b92388b0671933102a4 200 56.753 ms - 73
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 69172b8f388b0671933101f9
POST /api/transactions/60d5f1f77c3d4a001f5e8e1z/upload 404 13.276 ms - 53
PASS Testes/2-features/uploads.test.js
  Feature: Uploads
    Upload de PDF
      âˆš Deve permitir o upload de um anexo (PDF) para uma transaÃ§Ã£o (71 ms)
      âˆš Deve permitir a exclusÃ£o de um anexo (PDF) de uma transaÃ§Ã£o (58 ms)
    Upload de Imagem (PNG)
      âˆš Deve permitir o upload de um anexo de imagem (.png) para uma transaÃ§Ã£o (66 ms)
      âˆš Deve permitir a exclusÃ£o de um anexo de imagem (.png) (59 ms)
    Upload de Imagem (JPG)
      âˆš Deve permitir o upload de um anexo de imagem (.jpg) para uma transaÃ§Ã£o (60 ms)
      âˆš Deve permitir a exclusÃ£o de um anexo de imagem (.jpg) (56 ms)
    Upload de Imagem (JPEG)
      âˆš Deve permitir o upload de um anexo de imagem (.jpeg) para uma transaÃ§Ã£o (61 ms)
      âˆš Deve permitir a exclusÃ£o de um anexo de imagem (.jpeg) (57 ms)
    CenÃ¡rios de Erro e Estruturais
      âˆš Deve retornar 404 ao tentar fazer upload para uma transaÃ§Ã£o inexistente (26 ms)

Test Suites: 4 passed, 4 total
Tests:       23 passed, 23 total
Snapshots:   0 total
Time:        3 s
Ran all test suites matching Testes/2-features/.

--- ğŸ§¹ [GLOBAL TEARDOWN] Finalizando ambiente de teste ---
   - [OK] Dados de teste temporÃ¡rios foram removidos.
âœ… Servidor e conexÃ£o com MongoDB encerrados (stopServer).
--- âœ… [GLOBAL TEARDOWN] Ambiente finalizado com sucesso ---

--- FIM DOS TESTES AUTOMATIZADOS (Status: Sucesso) ---
