
--- ğŸš€ [GLOBAL SETUP] Iniciando ambiente de teste ---
Verificando permissÃµes de sistema...
PermissÃµes nÃ£o encontradas. Criando permissÃµes padrÃ£o...
PermissÃµes padrÃ£o criadas com sucesso!
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ (index) â”‚ Nome            â”‚ DescriÃ§Ã£o                                                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0       â”‚ 'ROOT'          â”‚ 'SuperusuÃ¡rio. Acesso irrestrito a todos os dados e configuraÃ§Ãµes do sistema.'                   â”‚
â”‚ 1       â”‚ 'ADMIN_COMPANY' â”‚ 'Administrador de uma empresa. Pode gerenciar usuÃ¡rios e todos os dados da sua prÃ³pria empresa.' â”‚
â”‚ 2       â”‚ 'USER_COMPANY'  â”‚ 'UsuÃ¡rio padrÃ£o. Pode criar e gerenciar seus prÃ³prios dados dentro da empresa.'                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â³ Iniciando servidor Smart GestÃ£o (startServer)...
ConexÃ£o com o MongoDB estabelecida com sucesso.
âœ… [1/1] ConexÃ£o com o banco de dados estabelecida!
âœ… Servidor rodando na porta 5000
--- âœ… [GLOBAL SETUP] Ambiente pronto e servidor iniciado ---
(node:26276) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
[0mPOST /api/clients [32m201[0m 36.316 ms - 329[0m
[LOG] AÃ§Ã£o: CREATE_CLIENT | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mGET /api/clients [32m200[0m 28.441 ms - 573[0m
[0mPUT /api/clients/6917acfcd5d0bd0847a00aee [32m200[0m 48.576 ms - 331[0m
[LOG] AÃ§Ã£o: UPDATE_CLIENT | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mDELETE /api/clients/6917acfcd5d0bd0847a00aee [32m200[0m 42.612 ms - 70[0m
PASS Testes/2-features/clients.test.js
  7. MÃ³dulo de Clientes/Fornecedores
    âˆš deve CRIAR um novo cliente com sucesso (80 ms)
    âˆš deve LISTAR os clientes da empresa (33 ms)
    âˆš deve ATUALIZAR um cliente existente (54 ms)
    âˆš deve EXCLUIR um cliente existente (46 ms)

[LOG] AÃ§Ã£o: DELETE_CLIENT | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[LOG] AÃ§Ã£o: CREATE_META | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mPOST /api/goals [32m201[0m 45.536 ms - 404[0m
[LOG] AÃ§Ã£o: CREATE_GOAL | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mGET /api/goals [32m200[0m 25.752 ms - 406[0m
[LOG] AÃ§Ã£o: UPDATE_META | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mPUT /api/goals/6917acfcd5d0bd0847a00b01 [32m200[0m 57.248 ms - 414[0m
[LOG] AÃ§Ã£o: UPDATE_GOAL | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[LOG] AÃ§Ã£o: DELETE_META | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mDELETE /api/goals/6917acfcd5d0bd0847a00b01 [32m200[0m 57.942 ms - 67[0m
[LOG] AÃ§Ã£o: DELETE_GOAL | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mGET /api/goals/null [33m404[0m 13.149 ms - 53[0m
PASS Testes/2-features/goals.test.js
  5. MÃ³dulo de Metas (CRUD)
    âˆš deve CRIAR uma nova meta com sucesso (62 ms)
    âˆš deve LISTAR as metas do usuÃ¡rio logado (29 ms)
    âˆš deve ATUALIZAR uma meta existente (61 ms)
    âˆš deve EXCLUIR uma meta existente (89 ms)

[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mPOST /api/transactions [32m201[0m 45.594 ms - 468[0m
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mPOST /api/transactions [33m400[0m 14.701 ms - 277[0m
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mGET /api/transactions [32m200[0m 26.681 ms - 855[0m
[0mGET /api/transactions/6917acfdd5d0bd0847a00b19 [32m200[0m 41.667 ms - 452[0m
[LOG] AÃ§Ã£o: UPDATE_TRANSACTION | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mPUT /api/transactions/6917acfdd5d0bd0847a00b19 [32m200[0m 83.592 ms - 452[0m
[LOG] AÃ§Ã£o: UPDATE_TRANSACTION | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mDELETE /api/transactions/6917acfdd5d0bd0847a00b19 [32m200[0m 57.018 ms - 73[0m
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mGET /api/transactions/6917acfdd5d0bd0847a00b19 [33m404[0m 38.036 ms - 71[0m
PASS Testes/2-features/transactions.test.js
  4. MÃ³dulo de TransaÃ§Ãµes (CRUD)
    âˆš deve CRIAR uma nova transaÃ§Ã£o com sucesso (57 ms)
    âˆš deve falhar ao tentar criar uma transaÃ§Ã£o com dados invÃ¡lidos (29 ms)
    âˆš deve LISTAR as transaÃ§Ãµes do usuÃ¡rio logado (30 ms)
    âˆš deve OBTER uma transaÃ§Ã£o especÃ­fica pelo ID (44 ms)
    âˆš deve ATUALIZAR uma transaÃ§Ã£o existente (88 ms)
    âˆš deve EXCLUIR uma transaÃ§Ã£o existente (105 ms)

[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mPOST /api/transactions [32m201[0m 43.263 ms - 446[0m
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mPOST /api/transactions/6917acfdd5d0bd0847a00b3a/upload [32m200[0m 62.119 ms - 514[0m
[LOG] AÃ§Ã£o: UPLOAD_ATTACHMENT | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mDELETE /api/transactions/6917acfdd5d0bd0847a00b3a/upload [32m200[0m 54.308 ms - 442[0m
[LOG] AÃ§Ã£o: DELETE_ATTACHMENT | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mDELETE /api/transactions/6917acfdd5d0bd0847a00b3a [32m200[0m 55.726 ms - 73[0m
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mPOST /api/transactions [32m201[0m 44.219 ms - 444[0m
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mPOST /api/transactions/6917acfdd5d0bd0847a00b54/upload [32m200[0m 56.298 ms - 512[0m
[LOG] AÃ§Ã£o: UPLOAD_ATTACHMENT | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mDELETE /api/transactions/6917acfdd5d0bd0847a00b54/upload [32m200[0m 56.097 ms - 440[0m
[LOG] AÃ§Ã£o: DELETE_ATTACHMENT | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mDELETE /api/transactions/6917acfdd5d0bd0847a00b54 [32m200[0m 56.624 ms - 73[0m
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mPOST /api/transactions [32m201[0m 44.283 ms - 444[0m
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mPOST /api/transactions/6917acfed5d0bd0847a00b6e/upload [32m200[0m 56.015 ms - 512[0m
[LOG] AÃ§Ã£o: UPLOAD_ATTACHMENT | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mDELETE /api/transactions/6917acfed5d0bd0847a00b6e/upload [32m200[0m 53.878 ms - 440[0m
[LOG] AÃ§Ã£o: DELETE_ATTACHMENT | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mDELETE /api/transactions/6917acfed5d0bd0847a00b6e [32m200[0m 58.063 ms - 73[0m
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mPOST /api/transactions [32m201[0m 44.849 ms - 445[0m
[LOG] AÃ§Ã£o: CREATE_TRANSACTION | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mPOST /api/transactions/6917acfed5d0bd0847a00b88/upload [32m200[0m 57.249 ms - 512[0m
[LOG] AÃ§Ã£o: UPLOAD_ATTACHMENT | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mDELETE /api/transactions/6917acfed5d0bd0847a00b88/upload [32m200[0m 55.255 ms - 441[0m
[LOG] AÃ§Ã£o: DELETE_ATTACHMENT | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mDELETE /api/transactions/6917acfed5d0bd0847a00b88 [32m200[0m 57.810 ms - 73[0m
[LOG] AÃ§Ã£o: DELETE_TRANSACTION | UsuÃ¡rio: 6917acfbd5d0bd0847a00add
[0mPOST /api/transactions/60d5f1f77c3d4a001f5e8e1z/upload [33m404[0m 13.056 ms - 53[0m
PASS Testes/2-features/uploads.test.js
  Feature: Uploads
    Upload de PDF
      âˆš Deve permitir o upload de um anexo (PDF) para uma transaÃ§Ã£o (72 ms)
      âˆš Deve permitir a exclusÃ£o de um anexo (PDF) de uma transaÃ§Ã£o (59 ms)
    Upload de Imagem (PNG)
      âˆš Deve permitir o upload de um anexo de imagem (.png) para uma transaÃ§Ã£o (62 ms)
      âˆš Deve permitir a exclusÃ£o de um anexo de imagem (.png) (60 ms)
    Upload de Imagem (JPG)
      âˆš Deve permitir o upload de um anexo de imagem (.jpg) para uma transaÃ§Ã£o (61 ms)
      âˆš Deve permitir a exclusÃ£o de um anexo de imagem (.jpg) (61 ms)
    Upload de Imagem (JPEG)
      âˆš Deve permitir o upload de um anexo de imagem (.jpeg) para uma transaÃ§Ã£o (63 ms)
      âˆš Deve permitir a exclusÃ£o de um anexo de imagem (.jpeg) (58 ms)
    CenÃ¡rios de Erro e Estruturais
      âˆš Deve retornar 404 ao tentar fazer upload para uma transaÃ§Ã£o inexistente (25 ms)

Test Suites: 4 passed, 4 total
Tests:       23 passed, 23 total
Snapshots:   0 total
Time:        2.686 s
Ran all test suites matching Testes/2-features.

--- ğŸ§¹ [GLOBAL TEARDOWN] Finalizando ambiente de teste ---
   - [OK] Dados de teste temporÃ¡rios foram removidos.
âœ… Servidor e conexÃ£o com MongoDB encerrados (stopServer).
--- âœ… [GLOBAL TEARDOWN] Ambiente finalizado com sucesso ---
