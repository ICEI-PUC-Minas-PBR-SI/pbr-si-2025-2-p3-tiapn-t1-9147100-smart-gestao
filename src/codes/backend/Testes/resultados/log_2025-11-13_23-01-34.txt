
--- üöÄ [GLOBAL SETUP] Iniciando ambiente de teste ---
‚è≥ Iniciando servidor Smart Gest√£o (startServer)...
Conex√£o com o MongoDB estabelecida com sucesso.
‚úÖ [1/3] Conex√£o com o banco de dados estabelecida!
Verificando permiss√µes de sistema...
Permiss√µes de sistema j√° existem. Nenhuma a√ß√£o necess√°ria.
‚úÖ [2/3] Permiss√µes do sistema validadas/inicializadas.
‚úÖ [3/3] Servidor rodando na porta 5000
--- ‚úÖ [GLOBAL SETUP] Ambiente pronto e servidor iniciado ---
(node:28496) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
POST /api/clients 201 35.759 ms - 349
[LOG] A√ß√£o: CREATE_CLIENT | Usu√°rio: 69168d81048c5e4d1336cbe7
GET /api/clients 200 27.738 ms - 595
PUT /api/clients/69168d82048c5e4d1336cbf7 200 46.351 ms - 362
[LOG] A√ß√£o: UPDATE_CLIENT | Usu√°rio: 69168d81048c5e4d1336cbe7
DELETE /api/clients/69168d82048c5e4d1336cbf7 200 42.121 ms - 70
GET /api/clients/69168d82048c5e4d1336cbf7 404 1.382 ms - 175
[LOG] A√ß√£o: DELETE_CLIENT | Usu√°rio: 69168d81048c5e4d1336cbe7
DELETE /api/clients/69168d82048c5e4d1336cbf7 404 37.784 ms - 67
PASS Testes/2-features/clients.test.js
  7. M√≥dulo de Clientes/Fornecedores
    ‚àö deve CRIAR um novo cliente com sucesso (76 ms)
    ‚àö deve LISTAR os clientes da empresa (30 ms)
    ‚àö deve ATUALIZAR um cliente existente (51 ms)
    ‚àö deve EXCLUIR um cliente existente (56 ms)

[LOG] A√ß√£o: DELETE_CLIENT | Usu√°rio: 69168d81048c5e4d1336cbe7
[LOG] A√ß√£o: CREATE_GOAL | Usu√°rio: 69168d81048c5e4d1336cbe7
POST /api/goals 201 45.820 ms - 404
GET /api/goals 200 27.579 ms - 406
[LOG] A√ß√£o: UPDATE_GOAL | Usu√°rio: 69168d81048c5e4d1336cbe7
PUT /api/goals/69168d82048c5e4d1336cc0d 200 56.499 ms - 414
[LOG] A√ß√£o: DELETE_GOAL | Usu√°rio: 69168d81048c5e4d1336cbe7
DELETE /api/goals/69168d82048c5e4d1336cc0d 200 65.559 ms - 67
GET /api/goals/69168d82048c5e4d1336cc0d 404 36.621 ms - 64
DELETE /api/goals/69168d82048c5e4d1336cc0d 404 37.584 ms - 64
PASS Testes/2-features/goals.test.js
  5. M√≥dulo de Metas (CRUD)
    ‚àö deve CRIAR uma nova meta com sucesso (60 ms)
    ‚àö deve LISTAR as metas do usu√°rio logado (31 ms)
    ‚àö deve ATUALIZAR uma meta existente (60 ms)
    ‚àö deve EXCLUIR uma meta existente (114 ms)

[LOG] A√ß√£o: CREATE_TRANSACTION | Usu√°rio: 69168d81048c5e4d1336cbe7
POST /api/transactions 201 45.142 ms - 468
POST /api/transactions 400 13.750 ms - 277
[LOG] A√ß√£o: CREATE_TRANSACTION | Usu√°rio: 69168d81048c5e4d1336cbe7
[LOG] A√ß√£o: CREATE_TRANSACTION | Usu√°rio: 69168d81048c5e4d1336cbe7
GET /api/transactions 200 26.303 ms - 855
GET /api/transactions/69168d83048c5e4d1336cc24 200 37.642 ms - 452
[LOG] A√ß√£o: UPDATE_TRANSACTION | Usu√°rio: 69168d81048c5e4d1336cbe7
PUT /api/transactions/69168d83048c5e4d1336cc24 200 57.189 ms - 452
[LOG] A√ß√£o: UPDATE_TRANSACTION | Usu√°rio: 69168d81048c5e4d1336cbe7
[LOG] A√ß√£o: DELETE_TRANSACTION | Usu√°rio: 69168d81048c5e4d1336cbe7
DELETE /api/transactions/69168d83048c5e4d1336cc24 200 65.683 ms - 73
[LOG] A√ß√£o: DELETE_TRANSACTION | Usu√°rio: 69168d81048c5e4d1336cbe7
GET /api/transactions/69168d83048c5e4d1336cc24 404 36.936 ms - 71
DELETE /api/transactions/69168d83048c5e4d1336cc24 404 36.901 ms - 71
PASS Testes/2-features/transactions.test.js
  4. M√≥dulo de Transa√ß√µes (CRUD)
    ‚àö deve CRIAR uma nova transa√ß√£o com sucesso (56 ms)
    ‚àö deve falhar ao tentar criar uma transa√ß√£o com dados inv√°lidos (25 ms)
    ‚àö deve LISTAR as transa√ß√µes do usu√°rio logado (29 ms)
    ‚àö deve OBTER uma transa√ß√£o espec√≠fica pelo ID (43 ms)
    ‚àö deve ATUALIZAR uma transa√ß√£o existente (61 ms)
    ‚àö deve EXCLUIR uma transa√ß√£o existente (108 ms)

[LOG] A√ß√£o: DELETE_TRANSACTION | Usu√°rio: 69168d81048c5e4d1336cbe7
[LOG] A√ß√£o: CREATE_TRANSACTION | Usu√°rio: 69168d81048c5e4d1336cbe7
POST /api/transactions 201 44.110 ms - 446
[LOG] A√ß√£o: CREATE_TRANSACTION | Usu√°rio: 69168d81048c5e4d1336cbe7
POST /api/transactions/69168d83048c5e4d1336cc4a/upload 200 63.158 ms - 514
[LOG] A√ß√£o: UPLOAD_ATTACHMENT | Usu√°rio: 69168d81048c5e4d1336cbe7
DELETE /api/transactions/69168d83048c5e4d1336cc4a/upload 200 52.944 ms - 442
[LOG] A√ß√£o: DELETE_ATTACHMENT | Usu√°rio: 69168d81048c5e4d1336cbe7
[LOG] A√ß√£o: DELETE_TRANSACTION | Usu√°rio: 69168d81048c5e4d1336cbe7
DELETE /api/transactions/69168d83048c5e4d1336cc4a 200 55.714 ms - 73
[LOG] A√ß√£o: DELETE_TRANSACTION | Usu√°rio: 69168d81048c5e4d1336cbe7
[LOG] A√ß√£o: CREATE_TRANSACTION | Usu√°rio: 69168d81048c5e4d1336cbe7
POST /api/transactions 201 43.713 ms - 444
[LOG] A√ß√£o: CREATE_TRANSACTION | Usu√°rio: 69168d81048c5e4d1336cbe7
POST /api/transactions/69168d83048c5e4d1336cc64/upload 200 54.969 ms - 512
[LOG] A√ß√£o: UPLOAD_ATTACHMENT | Usu√°rio: 69168d81048c5e4d1336cbe7
DELETE /api/transactions/69168d83048c5e4d1336cc64/upload 200 53.981 ms - 440
[LOG] A√ß√£o: DELETE_ATTACHMENT | Usu√°rio: 69168d81048c5e4d1336cbe7
[LOG] A√ß√£o: DELETE_TRANSACTION | Usu√°rio: 69168d81048c5e4d1336cbe7
DELETE /api/transactions/69168d83048c5e4d1336cc64 200 56.762 ms - 73
[LOG] A√ß√£o: DELETE_TRANSACTION | Usu√°rio: 69168d81048c5e4d1336cbe7
[LOG] A√ß√£o: CREATE_TRANSACTION | Usu√°rio: 69168d81048c5e4d1336cbe7
POST /api/transactions 201 43.962 ms - 444
[LOG] A√ß√£o: CREATE_TRANSACTION | Usu√°rio: 69168d81048c5e4d1336cbe7
POST /api/transactions/69168d84048c5e4d1336cc7e/upload 200 55.585 ms - 512
[LOG] A√ß√£o: UPLOAD_ATTACHMENT | Usu√°rio: 69168d81048c5e4d1336cbe7
DELETE /api/transactions/69168d84048c5e4d1336cc7e/upload 200 53.226 ms - 440
[LOG] A√ß√£o: DELETE_ATTACHMENT | Usu√°rio: 69168d81048c5e4d1336cbe7
[LOG] A√ß√£o: DELETE_TRANSACTION | Usu√°rio: 69168d81048c5e4d1336cbe7
DELETE /api/transactions/69168d84048c5e4d1336cc7e 200 65.022 ms - 73
[LOG] A√ß√£o: DELETE_TRANSACTION | Usu√°rio: 69168d81048c5e4d1336cbe7
[LOG] A√ß√£o: CREATE_TRANSACTION | Usu√°rio: 69168d81048c5e4d1336cbe7
POST /api/transactions 201 44.006 ms - 445
[LOG] A√ß√£o: CREATE_TRANSACTION | Usu√°rio: 69168d81048c5e4d1336cbe7
POST /api/transactions/69168d84048c5e4d1336cc98/upload 200 56.666 ms - 513
[LOG] A√ß√£o: UPLOAD_ATTACHMENT | Usu√°rio: 69168d81048c5e4d1336cbe7
DELETE /api/transactions/69168d84048c5e4d1336cc98/upload 200 58.881 ms - 441
[LOG] A√ß√£o: DELETE_ATTACHMENT | Usu√°rio: 69168d81048c5e4d1336cbe7
[LOG] A√ß√£o: DELETE_TRANSACTION | Usu√°rio: 69168d81048c5e4d1336cbe7
DELETE /api/transactions/69168d84048c5e4d1336cc98 200 56.872 ms - 73
[LOG] A√ß√£o: DELETE_TRANSACTION | Usu√°rio: 69168d81048c5e4d1336cbe7
POST /api/transactions/60d5f1f77c3d4a001f5e8e1z/upload 404 13.836 ms - 71
PASS Testes/2-features/uploads.test.js
  Feature: Uploads
    Upload de PDF
      ‚àö Deve permitir o upload de um anexo (PDF) para uma transa√ß√£o (71 ms)
      ‚àö Deve permitir a exclus√£o de um anexo (PDF) de uma transa√ß√£o (57 ms)
    Upload de Imagem (PNG)
      ‚àö Deve permitir o upload de um anexo de imagem (.png) para uma transa√ß√£o (59 ms)
      ‚àö Deve permitir a exclus√£o de um anexo de imagem (.png) (57 ms)
    Upload de Imagem (JPG)
      ‚àö Deve permitir o upload de um anexo de imagem (.jpg) para uma transa√ß√£o (60 ms)
      ‚àö Deve permitir a exclus√£o de um anexo de imagem (.jpg) (56 ms)
    Upload de Imagem (JPEG)
      ‚àö Deve permitir o upload de um anexo de imagem (.jpeg) para uma transa√ß√£o (61 ms)
      ‚àö Deve permitir a exclus√£o de um anexo de imagem (.jpeg) (61 ms)
    Cen√°rios de Erro e Estruturais
      ‚àö Deve retornar 404 ao tentar fazer upload para uma transa√ß√£o inexistente (26 ms)

Test Suites: 4 passed, 4 total
Tests:       23 passed, 23 total
Snapshots:   0 total
Time:        2.868 s
Ran all test suites matching Testes/2-features/.

--- üßπ [GLOBAL TEARDOWN] Finalizando ambiente de teste ---
[LOG] A√ß√£o: UPLOAD_ATTACHMENT | Usu√°rio: 69168d81048c5e4d1336cbe7
   - [OK] Dados de teste tempor√°rios foram removidos.
‚úÖ Servidor e conex√£o com MongoDB encerrados (stopServer).
--- ‚úÖ [GLOBAL TEARDOWN] Ambiente finalizado com sucesso ---

--- FIM DOS TESTES AUTOMATIZADOS (Status: Sucesso) ---
