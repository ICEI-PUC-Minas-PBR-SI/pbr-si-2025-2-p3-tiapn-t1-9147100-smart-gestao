
--- üöÄ [ETAPA 1 de 4] Iniciando Ambiente de Teste (Jest Environment) ---
   - [PROCESSO] Lendo configura√ß√£o do banco de dados de teste...
   - [ATEN√á√ÉO] Usando banco de dados de DESENVOLVIMENTO para os testes. As cole√ß√µes ser√£o limpas.

--- üöÄ [ETAPA 2 de 4] Limpando e populando o banco de dados de TESTE ---
   - [OK] Dados de teste (empresas e usu√°rios) criados e salvos em test-setup.json.
(node:29156) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)

--- üßπ [ENV] Desconectando do banco de dados ---
--- ‚úÖ [ENV] Ambiente de teste finalizado ---
 FAIL  Testes/password.test.js (31.432 s)
  9. M√≥dulo de Recupera√ß√£o de Senha
    √ó deve falhar ao solicitar reset para um e-mail inexistente (10018 ms)
    √ó deve gerar e salvar um token de reset para um e-mail v√°lido (10005 ms)
    √ó deve resetar a senha com um token v√°lido e permitir login com a nova senha (10011 ms)

  ‚óè 9. M√≥dulo de Recupera√ß√£o de Senha ‚Ä∫ deve falhar ao solicitar reset para um e-mail inexistente

    MongooseError: Operation `users.updateOne()` buffering timed out after 10000ms

      at Timeout.<anonymous> (../node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)

  ‚óè 9. M√≥dulo de Recupera√ß√£o de Senha ‚Ä∫ deve gerar e salvar um token de reset para um e-mail v√°lido

    MongooseError: Operation `users.updateOne()` buffering timed out after 10000ms

      at Timeout.<anonymous> (../node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)

  ‚óè 9. M√≥dulo de Recupera√ß√£o de Senha ‚Ä∫ deve resetar a senha com um token v√°lido e permitir login com a nova senha

    MongooseError: Operation `users.updateOne()` buffering timed out after 10000ms

      at Timeout.<anonymous> (../node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)


--- üöÄ [ETAPA 1 de 4] Iniciando Ambiente de Teste (Jest Environment) ---
   - [PROCESSO] Lendo configura√ß√£o do banco de dados de teste...
   - [ATEN√á√ÉO] Usando banco de dados de DESENVOLVIMENTO para os testes. As cole√ß√µes ser√£o limpas.

--- üöÄ [ETAPA 2 de 4] Limpando e populando o banco de dados de TESTE ---
   - [OK] Dados de teste (empresas e usu√°rios) criados e salvos em test-setup.json.

--- üßπ [ENV] Desconectando do banco de dados ---
--- ‚úÖ [ENV] Ambiente de teste finalizado ---
 FAIL  Testes/metas.test.js
  5. M√≥dulo de Metas (CRUD)
    √ó deve CRIAR uma nova meta com sucesso (35 ms)
    √ó deve LISTAR as metas do usu√°rio logado (2 ms)
    √ó deve ATUALIZAR uma meta existente (1 ms)
    √ó deve EXCLUIR uma meta existente (2 ms)

  ‚óè 5. M√≥dulo de Metas (CRUD) ‚Ä∫ deve CRIAR uma nova meta com sucesso

    AxiosError: Request failed with status code 404

      30 |         };
      31 |
    > 32 |         const response = await axios.post(`${API_URL}/meta`, goalData, {
         |                          ^
      33 |             headers: { Authorization: `Bearer ${userToken}` }
      34 |         });
      35 |

      at settle (../node_modules/axios/lib/core/settle.js:19:12)
      at IncomingMessage.handleStreamEnd (../node_modules/axios/lib/adapters/http.js:793:11)
      at Axios.request (../node_modules/axios/lib/core/Axios.js:45:41)
      at Object.<anonymous> (metas.test.js:32:26)

  ‚óè 5. M√≥dulo de Metas (CRUD) ‚Ä∫ deve LISTAR as metas do usu√°rio logado

    expect(received).toBeDefined()

    Received: undefined

      43 |
      44 |     it('deve LISTAR as metas do usu√°rio logado', async () => {
    > 45 |         expect(createdGoalId).toBeDefined();
         |                               ^
      46 |
      47 |         const response = await axios.get(`${API_URL}/meta`, {
      48 |             headers: { Authorization: `Bearer ${userToken}` }

      at Object.<anonymous> (metas.test.js:45:31)

  ‚óè 5. M√≥dulo de Metas (CRUD) ‚Ä∫ deve ATUALIZAR uma meta existente

    expect(received).toBeDefined()

    Received: undefined

      56 |
      57 |     it('deve ATUALIZAR uma meta existente', async () => {
    > 58 |         expect(createdGoalId).toBeDefined();
         |                               ^
      59 |
      60 |         const updatedData = {
      61 |             title: 'Economizar para novo maquin√°rio (URGENTE)',

      at Object.<anonymous> (metas.test.js:58:31)

  ‚óè 5. M√≥dulo de Metas (CRUD) ‚Ä∫ deve EXCLUIR uma meta existente

    expect(received).toBeDefined()

    Received: undefined

      73 |
      74 |     it('deve EXCLUIR uma meta existente', async () => {
    > 75 |         expect(createdGoalId).toBeDefined();
         |                               ^
      76 |
      77 |         const response = await axios.delete(`${API_URL}/meta/${createdGoalId}`, {
      78 |             headers: { Authorization: `Bearer ${userToken}` }

      at Object.<anonymous> (metas.test.js:75:31)


--- üöÄ [ETAPA 1 de 4] Iniciando Ambiente de Teste (Jest Environment) ---
   - [PROCESSO] Lendo configura√ß√£o do banco de dados de teste...
   - [ATEN√á√ÉO] Usando banco de dados de DESENVOLVIMENTO para os testes. As cole√ß√µes ser√£o limpas.

--- üöÄ [ETAPA 2 de 4] Limpando e populando o banco de dados de TESTE ---
   - [OK] Dados de teste (empresas e usu√°rios) criados e salvos em test-setup.json.
  console.log
    
    --- Configurando 3 empresas para o teste multi-tenant ---

      at Object.<anonymous> (multi-tenant.test.js:19:17)

  console.log
    ‚úÖ Empresa 1 (Empresa Teste 1762911270586) cadastrada e logada.

      at Object.<anonymous> (multi-tenant.test.js:48:21)

  console.log
    ‚úÖ Empresa 2 (Empresa Teste 1762911270926) cadastrada e logada.

      at Object.<anonymous> (multi-tenant.test.js:48:21)

  console.log
    ‚úÖ Empresa 3 (Empresa Teste 1762911271254) cadastrada e logada.

      at Object.<anonymous> (multi-tenant.test.js:48:21)

  console.log
    --- Configura√ß√£o multi-tenant conclu√≠da ---

      at Object.<anonymous> (multi-tenant.test.js:50:17)

  console.log
    
    --- Criando transa√ß√µes individuais para cada empresa ---

      at Object.<anonymous> (multi-tenant.test.js:55:17)

  console.log
    Transa√ß√£o criada para Empresa Teste 1762911270586. ID: 6913e427836ae322ac3bed12

      at Object.<anonymous> (multi-tenant.test.js:76:21)

  console.log
    Transa√ß√£o criada para Empresa Teste 1762911270926. ID: 6913e427836ae322ac3bed19

      at Object.<anonymous> (multi-tenant.test.js:76:21)

  console.log
    Transa√ß√£o criada para Empresa Teste 1762911271254. ID: 6913e427836ae322ac3bed20

      at Object.<anonymous> (multi-tenant.test.js:76:21)

  console.log
    
    --- Validando isolamento de dados entre todas as empresas ---

      at Object.<anonymous> (multi-tenant.test.js:82:17)

  console.log
    
    Verificando a transa√ß√£o 6913e427836ae322ac3bed12 da Empresa Teste 1762911270586

      at Object.<anonymous> (multi-tenant.test.js:89:21)

  console.log
    - OK: Empresa Teste 1762911270926 foi bloqueada (Status 404).

      at Object.<anonymous> (multi-tenant.test.js:107:29)

  console.log
    - OK: Empresa Teste 1762911271254 foi bloqueada (Status 404).

      at Object.<anonymous> (multi-tenant.test.js:107:29)

  console.log
    
    Verificando a transa√ß√£o 6913e427836ae322ac3bed19 da Empresa Teste 1762911270926

      at Object.<anonymous> (multi-tenant.test.js:89:21)

  console.log
    - OK: Empresa Teste 1762911270586 foi bloqueada (Status 404).

      at Object.<anonymous> (multi-tenant.test.js:107:29)

  console.log
    - OK: Empresa Teste 1762911271254 foi bloqueada (Status 404).

      at Object.<anonymous> (multi-tenant.test.js:107:29)

  console.log
    
    Verificando a transa√ß√£o 6913e427836ae322ac3bed20 da Empresa Teste 1762911271254

      at Object.<anonymous> (multi-tenant.test.js:89:21)

  console.log
    - OK: Empresa Teste 1762911270586 foi bloqueada (Status 404).

      at Object.<anonymous> (multi-tenant.test.js:107:29)

  console.log
    - OK: Empresa Teste 1762911270926 foi bloqueada (Status 404).

      at Object.<anonymous> (multi-tenant.test.js:107:29)

  console.log
    
    --- Validando listagem de transa√ß√µes ---

      at Object.<anonymous> (multi-tenant.test.js:114:17)

  console.log
    - OK: Empresa Teste 1762911270586 listou apenas sua pr√≥pria transa√ß√£o.

      at Object.<anonymous> (multi-tenant.test.js:126:21)

  console.log
    - OK: Empresa Teste 1762911270926 listou apenas sua pr√≥pria transa√ß√£o.

      at Object.<anonymous> (multi-tenant.test.js:126:21)

  console.log
    - OK: Empresa Teste 1762911271254 listou apenas sua pr√≥pria transa√ß√£o.

      at Object.<anonymous> (multi-tenant.test.js:126:21)

  console.log
    
    --- Limpando dados de teste (Teardown) ---

      at Object.<anonymous> (multi-tenant.test.js:132:17)

  console.log
    - ‚úÖ Empresa Empresa Teste 1762911270586 e dados associados exclu√≠dos com sucesso.

      at Object.<anonymous> (multi-tenant.test.js:139:25)

  console.log
    - ‚úÖ Empresa Empresa Teste 1762911270926 e dados associados exclu√≠dos com sucesso.

      at Object.<anonymous> (multi-tenant.test.js:139:25)

  console.log
    - ‚úÖ Empresa Empresa Teste 1762911271254 e dados associados exclu√≠dos com sucesso.

      at Object.<anonymous> (multi-tenant.test.js:139:25)


--- üßπ [ENV] Desconectando do banco de dados ---
--- ‚úÖ [ENV] Ambiente de teste finalizado ---
 PASS  Testes/multi-tenant.test.js
  3. Teste de Isolamento de Dados em Larga Escala (Multi-Tenant)
    ‚àö deve criar uma transa√ß√£o para cada empresa (166 ms)
    ‚àö deve impedir que uma empresa acesse a transa√ß√£o de outra (190 ms)
    ‚àö deve garantir que cada empresa liste apenas suas pr√≥prias transa√ß√µes (92 ms)


--- üöÄ [ETAPA 1 de 4] Iniciando Ambiente de Teste (Jest Environment) ---
   - [PROCESSO] Lendo configura√ß√£o do banco de dados de teste...
   - [ATEN√á√ÉO] Usando banco de dados de DESENVOLVIMENTO para os testes. As cole√ß√µes ser√£o limpas.

--- üöÄ [ETAPA 2 de 4] Limpando e populando o banco de dados de TESTE ---
   - [OK] Dados de teste (empresas e usu√°rios) criados e salvos em test-setup.json.

--- üßπ [ENV] Desconectando do banco de dados ---
--- ‚úÖ [ENV] Ambiente de teste finalizado ---
 PASS  Testes/auth.test.js
  6. M√≥dulo de Autentica√ß√£o e Sess√£o (Stateful)
    ‚àö deve criar um SessionToken no banco de dados ap√≥s o login (268 ms)
    ‚àö deve invalidar o SessionToken no banco de dados ap√≥s o logout (195 ms)


--- üöÄ [ETAPA 1 de 4] Iniciando Ambiente de Teste (Jest Environment) ---
   - [PROCESSO] Lendo configura√ß√£o do banco de dados de teste...
   - [ATEN√á√ÉO] Usando banco de dados de DESENVOLVIMENTO para os testes. As cole√ß√µes ser√£o limpas.

--- üöÄ [ETAPA 2 de 4] Limpando e populando o banco de dados de TESTE ---
   - [OK] Dados de teste (empresas e usu√°rios) criados e salvos em test-setup.json.

--- üßπ [ENV] Desconectando do banco de dados ---
--- ‚úÖ [ENV] Ambiente de teste finalizado ---
 PASS  Testes/transactions.test.js
  4. M√≥dulo de Transa√ß√µes (CRUD)
    ‚àö deve CRIAR uma nova transa√ß√£o com sucesso (62 ms)
    ‚àö deve falhar ao tentar criar uma transa√ß√£o com dados inv√°lidos (26 ms)
    ‚àö deve LISTAR as transa√ß√µes do usu√°rio logado (31 ms)
    ‚àö deve OBTER uma transa√ß√£o espec√≠fica pelo ID (30 ms)
    ‚àö deve ATUALIZAR uma transa√ß√£o existente (52 ms)
    ‚àö deve EXCLUIR uma transa√ß√£o existente (87 ms)


--- üöÄ [ETAPA 1 de 4] Iniciando Ambiente de Teste (Jest Environment) ---
   - [PROCESSO] Lendo configura√ß√£o do banco de dados de teste...
   - [ATEN√á√ÉO] Usando banco de dados de DESENVOLVIMENTO para os testes. As cole√ß√µes ser√£o limpas.

--- üöÄ [ETAPA 2 de 4] Limpando e populando o banco de dados de TESTE ---
   - [OK] Dados de teste (empresas e usu√°rios) criados e salvos em test-setup.json.
  console.log
    
    --- Criando transa√ß√£o para Empresa A ---

      at Object.<anonymous> (isolamento.test.js:31:17)

  console.log
    Empresa A - Criar Transa√ß√£o (Status): 201

      at Object.<anonymous> (isolamento.test.js:44:17)

  console.log
    Empresa A - Criar Transa√ß√£o (Corpo): {
      "companyId": "6913e42bf927b31a7512a809",
      "userId": "6913e42bf927b31a7512a80c",
      "type": "expense",
      "description": "Transa√ß√£o de Teste Empresa A",
      "amount": 100,
      "date": "2025-11-12T01:34:35.810Z",
      "paymentMethod": "other",
      "status": "pending",
      "_id": "6913e42b836ae322ac3bed78",
      "createdAt": "2025-11-12T01:34:35.831Z",
      "updatedAt": "2025-11-12T01:34:35.831Z",
      "__v": 0
    }

      at Object.<anonymous> (isolamento.test.js:45:17)

  console.log
    Empresa A - ID da Transa√ß√£o Criada: 6913e42b836ae322ac3bed78

      at Object.<anonymous> (isolamento.test.js:49:17)

  console.log
    
    --- Tentando acessar transa√ß√£o da Empresa A com token da Empresa B ---

      at Object.<anonymous> (isolamento.test.js:52:17)

  console.log
    Enviando: GET para http://localhost:5000/api/transactions/6913e42b836ae322ac3bed78 com token da Empresa B

      at Object.<anonymous> (isolamento.test.js:53:17)

  console.log
    Empresa B - Acessar Transa√ß√£o (Status): 404

      at Object.<anonymous> (isolamento.test.js:61:21)

  console.log
    Empresa B - Acessar Transa√ß√£o (Corpo): {
      "message": "Transaction n√£o encontrada"
    }

      at Object.<anonymous> (isolamento.test.js:62:21)

  console.log
    
    --- Tentando modificar transa√ß√£o da Empresa A com token da Empresa B ---

      at Object.<anonymous> (isolamento.test.js:72:17)

  console.log
    Enviando: PUT para http://localhost:5000/api/transactions/6913e42b836ae322ac3bed78 com token da Empresa B

      at Object.<anonymous> (isolamento.test.js:74:17)

  console.log
    Dados da atualiza√ß√£o: {
      "description": "Tentativa de Modifica√ß√£o pela Empresa B",
      "amount": 999
    }

      at Object.<anonymous> (isolamento.test.js:75:17)

  console.log
    Empresa B - Modificar Transa√ß√£o (Status): 404

      at Object.<anonymous> (isolamento.test.js:83:21)

  console.log
    Empresa B - Modificar Transa√ß√£o (Corpo): {
      "message": "Transaction n√£o encontrada"
    }

      at Object.<anonymous> (isolamento.test.js:84:21)

  console.log
    
    --- Tentando excluir transa√ß√£o da Empresa A com token da Empresa B ---

      at Object.<anonymous> (isolamento.test.js:90:17)

  console.log
    Enviando: DELETE para http://localhost:5000/api/transactions/6913e42b836ae322ac3bed78 com token da Empresa B

      at Object.<anonymous> (isolamento.test.js:91:17)

  console.log
    Empresa B - Excluir Transa√ß√£o (Status): 404

      at Object.<anonymous> (isolamento.test.js:99:21)

  console.log
    Empresa B - Excluir Transa√ß√£o (Corpo): {
      "message": "Transaction n√£o encontrada"
    }

      at Object.<anonymous> (isolamento.test.js:100:21)

  console.log
    
    --- Tentando listar transa√ß√µes com token da Empresa B ---

      at Object.<anonymous> (isolamento.test.js:108:17)

  console.log
    Enviando: GET para http://localhost:5000/api/transactions com token da Empresa B

      at Object.<anonymous> (isolamento.test.js:109:17)

  console.log
    Empresa B - Listar Transa√ß√µes (Status): 200

      at Object.<anonymous> (isolamento.test.js:117:17)

  console.log
    Empresa B - Listar Transa√ß√µes (Corpo): []

      at Object.<anonymous> (isolamento.test.js:118:17)


--- üßπ [ENV] Desconectando do banco de dados ---
--- ‚úÖ [ENV] Ambiente de teste finalizado ---
 PASS  Testes/isolamento.test.js
  2. Teste de Isolamento de Dados (Transa√ß√µes)
    ‚àö deve impedir o acesso, modifica√ß√£o e exclus√£o de transa√ß√µes entre empresas (153 ms)
    ‚àö deve impedir que a Empresa B liste todas as transa√ß√µes da Empresa A (32 ms)


--- üöÄ [ETAPA 1 de 4] Iniciando Ambiente de Teste (Jest Environment) ---
   - [PROCESSO] Lendo configura√ß√£o do banco de dados de teste...
   - [ATEN√á√ÉO] Usando banco de dados de DESENVOLVIMENTO para os testes. As cole√ß√µes ser√£o limpas.

--- üöÄ [ETAPA 2 de 4] Limpando e populando o banco de dados de TESTE ---
   - [OK] Dados de teste (empresas e usu√°rios) criados e salvos em test-setup.json.
  console.log
    ‚û°Ô∏è  [PASS] Resposta da API: 200, PDF recebido com 2328 bytes e salvo em: F:\Programacao\GitHub\pbr-si-2025-2-p3-tiapn-t1-9147100-smart-gestao\src\codes\backend\Testes\PDFs\pdf_teste_2025-11-11_22-34-36.pdf

      at Object.<anonymous> (reports.test.js:57:13)


--- üßπ [ENV] Desconectando do banco de dados ---
--- ‚úÖ [ENV] Ambiente de teste finalizado ---
 PASS  Testes/reports.test.js
  8. M√≥dulo de Relat√≥rios
    ‚àö deve EXPORTAR um relat√≥rio de transa√ß√µes em formato PDF (97 ms)


--- üöÄ [ETAPA 1 de 4] Iniciando Ambiente de Teste (Jest Environment) ---
   - [PROCESSO] Lendo configura√ß√£o do banco de dados de teste...
   - [ATEN√á√ÉO] Usando banco de dados de DESENVOLVIMENTO para os testes. As cole√ß√µes ser√£o limpas.

--- üöÄ [ETAPA 2 de 4] Limpando e populando o banco de dados de TESTE ---
   - [OK] Dados de teste (empresas e usu√°rios) criados e salvos em test-setup.json.
  console.log
    Executando teste para: RF-009 - CRIAR Cliente (Pendente)

      at Object.<anonymous> (clients.test.js:27:13)

  console.log
    ‚û°Ô∏è  [PASS] Resposta da API: 201, Cliente criado com ID: 6913e42d836ae322ac3bed8e

      at Object.<anonymous> (clients.test.js:43:13)

  console.log
    Executando teste para: RF-009 - LISTAR Clientes (Pendente)

      at Object.<anonymous> (clients.test.js:47:13)

  console.log
    ‚û°Ô∏è  [PASS] Resposta da API: 200, 1 cliente(s) listado(s).

      at Object.<anonymous> (clients.test.js:56:13)


--- üßπ [ENV] Desconectando do banco de dados ---
--- ‚úÖ [ENV] Ambiente de teste finalizado ---
 PASS  Testes/clients.test.js
  7. M√≥dulo de Clientes/Fornecedores
    ‚àö deve CRIAR um novo cliente com sucesso (45 ms)
    ‚àö deve LISTAR os clientes da empresa (33 ms)


--- üöÄ [ETAPA 1 de 4] Iniciando Ambiente de Teste (Jest Environment) ---
   - [PROCESSO] Lendo configura√ß√£o do banco de dados de teste...
   - [ATEN√á√ÉO] Usando banco de dados de DESENVOLVIMENTO para os testes. As cole√ß√µes ser√£o limpas.

--- üöÄ [ETAPA 2 de 4] Limpando e populando o banco de dados de TESTE ---
   - [OK] Dados de teste (empresas e usu√°rios) criados e salvos em test-setup.json.

--- üßπ [ENV] Desconectando do banco de dados ---
--- ‚úÖ [ENV] Ambiente de teste finalizado ---
 FAIL  Testes/isolamento.legacy.test.js
  ‚óè Test suite failed to run

    Your test suite must contain at least one test.

      at onResult (../node_modules/@jest/core/build/index.js:1057:18)
      at ../node_modules/@jest/core/build/index.js:1127:165
      at ../node_modules/emittery/index.js:363:13
          at Array.map (<anonymous>)
      at Emittery.emit (../node_modules/emittery/index.js:361:23)


--- üöÄ [ETAPA 1 de 4] Iniciando Ambiente de Teste (Jest Environment) ---
   - [PROCESSO] Lendo configura√ß√£o do banco de dados de teste...
   - [ATEN√á√ÉO] Usando banco de dados de DESENVOLVIMENTO para os testes. As cole√ß√µes ser√£o limpas.

--- üöÄ [ETAPA 2 de 4] Limpando e populando o banco de dados de TESTE ---
   - [OK] Dados de teste (empresas e usu√°rios) criados e salvos em test-setup.json.

--- üßπ [ENV] Desconectando do banco de dados ---
--- ‚úÖ [ENV] Ambiente de teste finalizado ---
 FAIL  Testes/isolamento-simples.test.js
  ‚óè Test suite failed to run

    Your test suite must contain at least one test.

      at onResult (../node_modules/@jest/core/build/index.js:1057:18)
      at ../node_modules/@jest/core/build/index.js:1127:165
      at ../node_modules/emittery/index.js:363:13
          at Array.map (<anonymous>)
      at Emittery.emit (../node_modules/emittery/index.js:361:23)


--- üöÄ [ETAPA 1 de 4] Iniciando Ambiente de Teste (Jest Environment) ---
   - [PROCESSO] Lendo configura√ß√£o do banco de dados de teste...
   - [ATEN√á√ÉO] Usando banco de dados de DESENVOLVIMENTO para os testes. As cole√ß√µes ser√£o limpas.

--- üöÄ [ETAPA 2 de 4] Limpando e populando o banco de dados de TESTE ---
   - [OK] Dados de teste (empresas e usu√°rios) criados e salvos em test-setup.json.

--- üßπ [ENV] Desconectando do banco de dados ---
--- ‚úÖ [ENV] Ambiente de teste finalizado ---
 FAIL  Testes/auth.legacy.test.js
  ‚óè Test suite failed to run

    Your test suite must contain at least one test.

      at onResult (../node_modules/@jest/core/build/index.js:1057:18)
      at ../node_modules/@jest/core/build/index.js:1127:165
      at ../node_modules/emittery/index.js:363:13
          at Array.map (<anonymous>)
      at Emittery.emit (../node_modules/emittery/index.js:361:23)


--- üöÄ [ETAPA 1 de 4] Iniciando Ambiente de Teste (Jest Environment) ---
   - [PROCESSO] Lendo configura√ß√£o do banco de dados de teste...
   - [ATEN√á√ÉO] Usando banco de dados de DESENVOLVIMENTO para os testes. As cole√ß√µes ser√£o limpas.

--- üöÄ [ETAPA 2 de 4] Limpando e populando o banco de dados de TESTE ---
   - [OK] Dados de teste (empresas e usu√°rios) criados e salvos em test-setup.json.

--- üßπ [ENV] Desconectando do banco de dados ---
--- ‚úÖ [ENV] Ambiente de teste finalizado ---
 FAIL  Testes/api.test.js
  ‚óè Test suite failed to run

    Your test suite must contain at least one test.

      at onResult (../node_modules/@jest/core/build/index.js:1057:18)
      at ../node_modules/@jest/core/build/index.js:1127:165
      at ../node_modules/emittery/index.js:363:13
          at Array.map (<anonymous>)
      at Emittery.emit (../node_modules/emittery/index.js:361:23)

Test Suites: 6 failed, 6 passed, 12 total
Tests:       7 failed, 16 passed, 23 total
Snapshots:   0 total
Time:        43.645 s
Ran all test suites.

--- FIM DOS TESTES AUTOMATIZADOS (Status: Falha) ---
